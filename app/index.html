<!doctype html>
<html manifest="cache.manifest">

<head>
  <meta charset="utf-8">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>Terra Mystica lobby</title>

  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="images/launcher/ios/icon.png">
  <link rel="apple-touch-icon" sizes="76x76" href="images/launcher/ios/icon-72.png">
  <link rel="apple-touch-icon" sizes="120x120" href="images/launcher/ios/icon@2x.png">
  <link rel="apple-touch-icon" sizes="152x152" href="images/launcher/ios/icon-72@2x.png">

  <!-- build:css ./styles/main.css -->
  <link rel="stylesheet" href="./styles/main.css">
  <!-- endbuild-->

  <link href='http://fonts.googleapis.com/css?family=Josefin+Sans&subset=latin,latin-ext' rel='stylesheet' type='text/css'>

  <!-- build:js ./bower_components/webcomponentsjs/webcomponents.min.js -->
  <script src="./bower_components/webcomponentsjs/webcomponents.js"></script>
  <!-- endbuild -->

  <!-- will be replaced with ./elements/elements.vulcanized.html -->
  <link rel="import" href="./elements/elements.html">
  <!-- endreplace-->
</head>

<body unresolved fullbleed layout vertical>
    <!--[if lt IE 10]>
    <p class="browserupgrade">
        You are using an <strong>outdated</strong> browser.
        Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.
    </p>
    <![endif]-->

    <template is="auto-binding" id="app">
        <core-localstorage name="players-num" value="{{playersNum}}"></core-localstorage>
        <core-localstorage name="selected-factions" value="{{selectedFactions}}"></core-localstorage>

        <core-drawer-panel>

            <!-- Drawer -->
            <core-header-panel drawer>

                <!-- Drawer Toolbar -->
                <core-toolbar>Players num</core-toolbar>

                <!-- Drawer Content -->
                <core-selector selected="{{playersNum}}" valueattr="value">
                    <paper-item value="2">2 players</paper-item>
                    <paper-item value="3">3 players</paper-item>
                    <paper-item value="4">4 players</paper-item>
                    <paper-item value="5">5 players</paper-item>
                </core-selector>

                <lang-selector></lang-selector>
            </core-header-panel>

            <!-- Main -->
            <core-header-panel main>
                <!-- Main Toolbar -->
                <core-toolbar>
                    <paper-icon-button icon="menu" core-drawer-toggle></paper-icon-button>
                    <span>{{appName}}</span>
                    <span flex></span>
                </core-toolbar>

                <div class="social-buttons">
                    <a href="https://github.com/ertrzyiks/terra-mystica-lobby" class="social-button-link">
                        <core-icon src="images/github.png"></core-icon>
                    </a>

                    <twitter-button
                            text="Get a random set of factions for Terra Mystica with app"
                            user=""
                            hashtag="Polymer"
                            href="http://ertrzyiks.github.io/terra-mystica-lobby/">
                    </twitter-button>
                </div>

                <p class="app-description">
                    {{appDescription}}

                </p>

                <!-- Main Content -->
                <terra-lobby playersNum="{{playersNum}}" factions="{{selectedFactions}}"></terra-lobby>

            </core-header-panel>
        </core-drawer-panel>

        <paper-action-dialog id="updatePopup" backdrop heading="New version!" transition="core-transition-center"
                             layered="false">
            <p>There is new version available, do you want to download? It wont take long.</p>

            <paper-button dismissive>Later</paper-button>
            <paper-button affirmative autofocus on-click="{{onDownloadNewVersion}}">Yes, please</paper-button>
        </paper-action-dialog>
    </template>

    <!-- build:js ./scripts/app.js -->
    <script src="./bower_components/q/q.js"></script>
    <script src="./scripts/app.js"></script>
    <!-- endbuild-->
</body>

</html>
